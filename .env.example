# ESS Environment Configuration
# Copy this file to .env.local (development) or .env.prod (production)
# and fill in the actual values.
#
# SECURITY: Never commit .env.local or .env.prod with real credentials!

# =============================================================================
# Gateway Configuration
# =============================================================================
PORT=3001
NODE_ENV=development

# API Authentication (REQUIRED in production)
# Generate with: openssl rand -hex 32
ESS_API_KEY=your-api-key-here-minimum-32-chars
ADMIN_TOKEN=your-admin-token-here-minimum-32-chars

# =============================================================================
# Neo4j Graph Database
# =============================================================================
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
# Generate strong password: openssl rand -base64 24
NEO4J_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# =============================================================================
# Qdrant Vector Database
# =============================================================================
QDRANT_URL=http://localhost:6333
QDRANT_COLLECTION=engineering_kb
# Optional: API key for Qdrant (enable in Qdrant config)
# QDRANT_API_KEY=your-qdrant-api-key

# =============================================================================
# Redis (Conversation State)
# =============================================================================
REDIS_URL=redis://localhost:6379
# If Redis auth enabled:
# REDIS_PASSWORD=your-redis-password

# =============================================================================
# Ollama (Embeddings & Synthesis)
# =============================================================================
OLLAMA_URL=http://localhost:11434
EMBEDDING_MODEL=nomic-embed-text
SYNTHESIS_MODEL=llama3.2

# =============================================================================
# Optional: External Synthesis Provider (zAI, Anthropic, OpenAI)
# =============================================================================
# SYNTHESIS_API_URL=https://api.z.ai/v1
# SYNTHESIS_API_KEY=your-api-key
# SYNTHESIS_PROVIDER=openai  # openai, anthropic, ollama

# =============================================================================
# Optional: Embedding Fallback (for when Ollama is unavailable)
# =============================================================================
# Provides resilience when Ollama is down - semantic search continues via fallback
# IMPORTANT: Dimensions must match your Qdrant collection (default 768 for nomic-embed-text)
# EMBEDDING_FALLBACK_API_KEY=sk-your-openai-key
# EMBEDDING_FALLBACK_PROVIDER=openai  # openai, voyage
# EMBEDDING_FALLBACK_MODEL=text-embedding-3-small
# EMBEDDING_FALLBACK_DIMENSIONS=768

# =============================================================================
# Production Domain (for TLS/SSL)
# =============================================================================
# ESS_DOMAIN=ess.yourdomain.com
# ADMIN_EMAIL=admin@yourdomain.com

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
